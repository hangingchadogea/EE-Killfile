<html>
<head><title>EE Killfile Options</title></head>
<script type="text/javascript">

// Saves options to localStorage.
function save_options() {
  var text_area = document.getElementById("kill_regex");
  var kill_regex = text_area.value;
  localStorage["kill_regex"] = kill_regex;

  var autoignore = document.getElementById("autoignore").checked;
  localStorage["autoignore"] = autoignore;

  // Update status to let user know options were saved.
  var status = document.getElementById("status");
  status.innerHTML = "Options Saved.";
  setTimeout(function() {
    status.innerHTML = "";
  }, 750);
}

// Restores select box state to saved value from localStorage.
function restore_options() {
  var kill_regex = localStorage["kill_regex"];
  if (kill_regex == undefined) {
    kill_regex="candlepin|quote_author\">(HAL McRae|Yun Taragoashi)";
  }
  var text_area = document.getElementById("kill_regex");
  text_area.value = kill_regex;

  var autoignore = string_to_bool(localStorage["autoignore"]);
  document.getElementById("autoignore").checked = autoignore;
}

function string_to_bool(string){
  return (string.toLowerCase().charAt(0) == "t" );
}
</script>

<body onload="restore_options()">

Kill regex: <input type="text" id="kill_regex" name="kill_regex" />
<p>
The | sign means "or". So "Boeheim|Paleo" means you'll ignore any post containing either "Boeheim" or "Paleo". To be case-insensitive you can do something like "[Pp]aleo". To ignore quoted posts by a given set of users, you can do something like 'quote_author..(HAL|Yun)'. There are many online tutorials for the use of regular expressions if you would like to learn more.
</p>
<p>
To block inline images in the Lounge, use "img src=.(?!http://www.baseballthinkfactory.org)".
</p>
<p>
Automatically hide posts quoting ignored users (when the ignored user has posted on the same page):
<input type="checkbox" id="autoignore" name="autoignore">
</p>
<button onclick="save_options()">Save</button>
<p id="status"></p>
</body>
</html>
